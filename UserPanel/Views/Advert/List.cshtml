@model List<Advert>
@{
    Layout = "_Layout";
    ViewData["Title"] = "Adverts";
    Guid CampID = Guid.Parse((string)Context.Request.RouteValues["id"]);
}
<section class="py-1 bg-blueGray-50 table-campaning">
    <div class="w-full  mb-12 xl:mb-0 px-4 mx-auto">
        <div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
            <div class="rounded-t mb-0 px-4 py-3 border-0">
                <div class="flex flex-wrap items-center">
                    <div class="relative w-full px-4 py-4 max-w-full flex-grow flex-1">
                        <h1 class="font-semibold text-xl text-blueGray-700">Twoje reklamy</h1>
                    </div>
                    <div class="pull-right">
                        <a asp-action="Create" asp-route-id_camp="@CampID"  class="btn btn-flat success"><i class="icon-plus"></i> Utwórz</a>
                    </div>
                </div>
            </div>

            <div class="block w-full overflow-x-auto">
                <table class="items-center bg-transparent w-full border-collapse">
                    <thead>
                        <tr>
                            <th class="px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-center">
                                Nazwa (reklamy)
                            </th>
                            <th class="px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-center">
                                Data utworzenia
                            </th>
                            <th class="px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-center">
                                Typ reklamy
                            </th>
                            <th class="px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-center">
                                Formaty
                            </th>
                            <th class="px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-center">
                                Status
                            </th>
                            <th class="px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-center">
                                Akcje
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach(var ad in Model)
                        {
                            <tr>
                                <td class="border-t-0 align-middle border-l-0 border-r-0 ttext-sm   whitespace-nowrap p-4 text-center text-blueGray-700 ">
                                    <span>@ad.Name</span>
                                </td>
                                <td class="border-t-0 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4 text-center text-blueGray-700 ">
                                    <span>02-06-2022 13:32</span>
                                </td>
                                <td class="border-t-0 align-middle border-l-0 border-r-0 text-sm  whitespace-nowrap p-4 text-center text-blueGray-700 ">
                                    <span>@ad.Template.GetStringValue() reklama</span>
                                </td>
                                <td class="border-t-0 align-middle border-l-0 border-r-0 text-sm  whitespace-nowrap p-4 text-center text-blueGray-700 ">
                                    @foreach(var format in ad.Formats)
                                    {
                                        <p>@format.Size</p>
                                    }
                                </td>
                                <td class="border-t-0 align-middle border-l-0 border-r-0 text-sm    whitespace-nowrap p-4 text-center text-blueGray-700 ">
                                    <button class="btn-flat @(ad.IsActive ? "success" : "danger")">@(ad.IsActive ? "Włączona" : "Wyłączona")</button>
                                </td>
                                <td class="align-middle">
                                    <div class="flex text-sm justify-center items-center gap-x-2">
                                        <a asp-action="Edit" asp-route-id="@ad.Id" class="btn-flat white">Edytuj</a>
                                        <a asp-action="Preview" asp-route-id="@ad.Id" asp-route-ReturnUrl="/campaign/advertisements-list/@CampID" class="btn-flat white">Podgląd</a>
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
